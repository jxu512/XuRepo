<html>
<head>
<script type="text/javascript">
function registerClub(theForm) {
	const ajax=new XMLHttpRequest();
	fd = new FormData(theForm);
	//fd.append("name",name);
	url="/club/register-put";
	ajax.onreadystatechange=function() {
		console.log(ajax.status);
		};
	ajax.open("PUT", url);
	ajax.send(fd);
}
function addPoints(theForm) {
	const ajax=new XMLHttpRequest();
	fd = new FormData(theForm);
	//fd.append("name",name);
	
	params= {"name":"Jeff", "points":500};
	
	url="/club/add-points";
	ajax.onreadystatechange=function() {
		      console.log(ajax.status);
		};
	ajax.open("PATCH", url);
	ajax.setRequestHeader("Content-Type","application/json; charset=utf-8");
	ajax.send(JSON.stringify(params));
}
function deleteClub(name) {
	const ajax=new XMLHttpRequest();
	fd = new FormData();
	fd.append("name",name);
	url="/club/delete";
	ajax.onreadystatechange=function() {
		console.log(ajax.responseText);
		};
	ajax.open("DELETE", url);
	ajax.send(fd);
}
</script>
</head>
<body>
<h1>A simple Spring boot Rest API</h1>
Say Hello with <br>
<a href=/hello?name=Jeff>Rest</a>, &nbsp;
<a href=/hello1?name=Jeff>MVC with Thymeleaf</a>&nbsp;
<a href=/hello2?name=Jeff>MVC without Thymeleaf)</a>&nbsp;
<a href=/hello3?name=Jeff>MVC with ResponseEntity)</a>&nbsp;
<a href=/hello4?name=Jeff>MVC with HTTPServletResponse)</a>&nbsp;

<br><hr><br>

Dev club: 
<a href=/club/get-all>list members</a>, &nbsp;
<a href=/club/get?name=Jasmine><b>check<b></b></a><br><br><br>

<!-- HTML does not support put, below will fail -->
<form modelAttribute="userForm" action=/club/register method="put">
<input type="hidden" name="_method" value="put" />
<label>Name:</label><input id=nameField name="name" type=text size=8 value="Jasmine" />
<label>points:</label><input id=nameField name="points" type=text size=6 value="200" />
<input type=Submit value="Register(PUT)"/>
</form>
<!-- HTML POST is OK -->
<form modelAttribute="userForm" action=/club/register method="post">
<label>Name:</label><input id=nameField name="name" type=text size=8 value="Jasmine" />
<label>points:</label><input id=nameField name="points" type=text size=6 value="200" />
<input type=Submit value="Register(POST)"/>
</form>

<!-- Ajax supporst put -->
<form onsubmit=registerClub(this) >
<label>Name:</label><input id=nameField name="name" type=text size=8 value="Jasmine" />
<label>points:</label><input id=pointsField name="points" type=text size=6 value="200" />
<input type=submit value="Reg (Ajax Put)"></input>
</form>
<form onsubmit=addPoints(this) >
<label>Name:</label><input id=nameField name="name" type=text size=8 value="Jasmine" />
<label>points:</label><input id=pointsField name="points" type=text size=6 value="200" />
<input type=submit value="Add points (Ajax PATCH"></input>
</form>

<label>Name:</label><input id=deleteField name="name" type=text size=8 value="Jasmine" />
<button onclick=deleteClub(document.getElementById("deleteField").value)>Delete (Ajax Delete)</button>
<br><br>

</body>
</html>